<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>EXNESFLY | SOVEREIGN COMMAND</title>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=JetBrains+Mono:wght@300;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root { --neon: #00f5ff; --matrix: #10b981; --arno: #ef4444; --bg: #010409; --glass: rgba(13, 17, 23, 0.85); }
        body { background-color: var(--bg); color: #c9d1d9; font-family: 'JetBrains Mono', monospace; overflow: hidden; }
        .orbitron { font-family: 'Orbitron', sans-serif; }
        
        /* The "Coolest" UI enhancements */
        .glass-panel { backdrop-filter: blur(30px); background: var(--glass); border: 1px solid rgba(255,255,255,0.05); box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
        .bento-card { border-radius: 28px; background: rgba(255,255,255,0.01); border: 1px solid rgba(255,255,255,0.03); transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .bento-card:hover { border-color: var(--neon); background: rgba(0, 245, 255, 0.02); transform: scale(1.02); box-shadow: 0 0 30px rgba(0, 245, 255, 0.1); }
        
        .input-cyber { background: rgba(0,0,0,0.6); border: 1px solid rgba(255,255,255,0.1); border-radius: 14px; padding: 14px; width: 100%; outline: none; transition: 0.3s; }
        .input-cyber:focus { border-color: var(--neon); box-shadow: 0 0 15px rgba(0, 245, 255, 0.2); }
        
        .status-glow { width: 8px; height: 8px; border-radius: 50%; box-shadow: 0 0 10px currentColor; animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
        .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="h-screen w-screen flex flex-col no-scrollbar">

<div id="app" class="flex flex-col h-full overflow-hidden relative">

    <header class="h-16 border-b border-white/5 flex items-center justify-between px-8 glass-panel z-[100]">
        <div class="flex items-center gap-6 cursor-pointer" @click="view = 'nexus'">
            <img src="LOGO.png" class="h-8 w-8 drop-shadow-[0_0_8px_rgba(0,245,255,0.5)]">
            <h1 class="orbitron font-black text-sm tracking-[5px] text-white hidden md:block">EXNESFLY_OS</h1>
        </div>
        
        <div class="flex items-center gap-6">
            <div v-if="user" class="flex items-center gap-4 bg-white/5 p-1 pr-4 rounded-full border border-white/10">
                <img :src="user.photoURL" class="w-8 h-8 rounded-full border border-cyan-500">
                <div class="flex flex-col">
                    <span class="text-[8px] orbitron font-bold text-cyan-400">{{ userRole.toUpperCase() }}</span>
                    <span class="text-[10px] text-white font-bold">{{ user.displayName.split(' ')[0] }}</span>
                </div>
            </div>
            <button v-else @click="login" class="orbitron text-[10px] bg-white text-black px-6 py-2 font-black rounded-full hover:bg-cyan-400 transition">INITIALIZE</button>
        </div>
    </header>

    <div class="flex flex-1 overflow-hidden">
        <nav class="w-20 md:w-72 border-r border-white/5 flex flex-col p-6 space-y-3 glass-panel">
            <div v-for="n in nav" @click="view = n.id" 
                 :class="['p-4 rounded-2xl cursor-pointer flex items-center gap-5 transition-all duration-300', view === n.id ? 'bg-cyan-500/10 text-cyan-400 border border-cyan-500/30' : 'text-slate-500 hover:text-white']">
                <i :class="n.icon" class="text-xl"></i>
                <span class="hidden md:block text-[10px] orbitron font-black uppercase tracking-widest">{{ n.label }}</span>
            </div>
            <div class="mt-auto p-4 bg-white/5 rounded-2xl border border-white/5">
                <p class="text-[8px] orbitron text-slate-500 mb-2 text-center uppercase">System Integrity</p>
                <div class="h-1.5 w-full bg-black rounded-full overflow-hidden">
                    <div class="h-full bg-cyan-500 w-[94%]"></div>
                </div>
            </div>
        </nav>

        <main class="flex-1 overflow-y-auto p-8 md:p-16 no-scrollbar bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-cyan-500/5 via-transparent to-transparent">

            <div v-if="view === 'nexus'" class="max-w-5xl space-y-16 animate-in fade-in duration-700">
                <section>
                    <div class="flex items-center gap-3 text-cyan-500 mb-4">
                        <div class="status-glow bg-cyan-500"></div>
                        <span class="orbitron text-[10px] font-black tracking-widest">SYSTEM_LINK_ESTABLISHED</span>
                    </div>
                    <h2 class="orbitron text-6xl md:text-8xl font-black text-white leading-none uppercase tracking-tighter">SOVEREIGN <br><span class="text-transparent stroke-text" style="-webkit-text-stroke: 1px white;">COMMAND.</span></h2>
                    <p class="mt-8 text-slate-400 text-xl font-light max-w-2xl leading-relaxed">Integrated E-Commerce, Medical Triage, and Industrial Logistics for the East African Matrix.</p>
                </section>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div @click="view = 'market'" class="bento-card p-10 cursor-pointer">
                        <i class="fas fa-shopping-cart text-3xl text-cyan-400 mb-6"></i>
                        <h4 class="orbitron text-lg font-black text-white mb-2">MARKETPLACE</h4>
                        <p class="text-xs text-slate-500">Register as Buyer/Seller and trade industrial assets.</p>
                    </div>
                    <div @click="view = 'telemed'" class="bento-card p-10 cursor-pointer border-l-4 border-red-500/50">
                        <i class="fas fa-heart-pulse text-3xl text-red-500 mb-6"></i>
                        <h4 class="orbitron text-lg font-black text-white mb-2">HUMAN_MED</h4>
                        <p class="text-xs text-slate-500">24/7 Virtual Triage for primary healthcare nodes.</p>
                    </div>
                    <div @click="view = 'vetmed'" class="bento-card p-10 cursor-pointer border-l-4 border-matrix/50">
                        <i class="fas fa-paw text-3xl text-matrix mb-6"></i>
                        <h4 class="orbitron text-lg font-black text-white mb-2">VET_NEXUS</h4>
                        <p class="text-xs text-slate-500">Dr. Esty lead Bio-Triage for Canine/Feline/Livestock.</p>
                    </div>
                </div>
            </div>

            <div v-if="view === 'market'" class="space-y-12 animate-in slide-in-from-bottom-10">
                <div v-if="!roleSelected" class="bento-card p-12 text-center bg-cyan-500/5">
                    <h3 class="orbitron text-2xl font-black mb-10 text-white">IDENTITY_VERIFICATION</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <button @click="setRole('buyer')" class="p-10 bento-card hover:bg-white hover:text-black group">
                            <i class="fas fa-user-tag text-4xl mb-6 group-hover:text-black"></i>
                            <p class="orbitron font-black">REGISTER_BUYER</p>
                        </button>
                        <button @click="setRole('seller')" class="p-10 bento-card hover:bg-yellow-500 hover:text-black group">
                            <i class="fas fa-store-alt text-4xl mb-6 group-hover:text-black"></i>
                            <p class="orbitron font-black">REGISTER_SELLER</p>
                        </button>
                    </div>
                </div>

                <div v-else class="space-y-8">
                    <div class="flex justify-between items-center">
                        <h2 class="orbitron text-3xl font-black italic">GLOBAL_MARKET</h2>
                        <button v-if="userRole === 'seller'" @click="showAddProduct = true" class="px-8 py-3 bg-white text-black orbitron text-[10px] font-black rounded-full shadow-[0_0_20px_rgba(255,255,255,0.2)]">LIST_NEW_ASSET</button>
                    </div>
                    
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                        <div v-for="p in products" class="bento-card overflow-hidden group">
                            <div class="h-56 bg-black/40 flex items-center justify-center relative">
                                <i class="fas fa-microchip text-5xl text-white/10 group-hover:text-cyan-500 transition-all duration-500"></i>
                                <div class="absolute top-4 left-4 bg-cyan-500 text-black text-[8px] font-black px-3 py-1 orbitron rounded-full">{{ p.cat }}</div>
                            </div>
                            <div class="p-6">
                                <h4 class="font-bold text-white mb-1 uppercase tracking-wider">{{ p.name }}</h4>
                                <p class="text-cyan-400 font-black orbitron mb-4">${{ p.price }}</p>
                                <button class="w-full py-3 bg-white/5 border border-white/10 rounded-xl text-[10px] orbitron font-black hover:bg-white hover:text-black transition">PURCHASE_CONTRACT</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div v-if="view === 'vetmed'" class="space-y-8 animate-in slide-in-from-right-10">
                <div class="bento-card p-12 border-l-4 border-matrix relative overflow-hidden">
                    <div class="absolute -top-10 -right-10 opacity-[0.03] rotate-12">
                        <i class="fas fa-dog text-[300px]"></i>
                    </div>
                    <h2 class="orbitron text-4xl font-black mb-4 uppercase">Bio-Nexus <span class="text-matrix italic">Vet</span></h2>
                    <p class="text-slate-400 max-w-2xl mb-12">Nairobi's premier surgical triage node led by Dr. Esty. Precision medicine for domestic and industrial-grade livestock.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                        <div class="space-y-6">
                            <h4 class="orbitron text-xs font-black text-matrix tracking-widest uppercase">Species_Triage_Console</h4>
                            <div class="grid grid-cols-2 gap-4">
                                <button v-for="s in ['Canine', 'Feline', 'Equine', 'Bovine']" @click="triage.species = s" 
                                        :class="triage.species === s ? 'bg-matrix text-black border-matrix' : 'bg-black/40 border-white/5 text-slate-500'" 
                                        class="py-4 rounded-2xl border orbitron text-[10px] font-black transition">
                                    {{ s.toUpperCase() }}
                                </button>
                            </div>
                            <textarea v-model="triage.symptoms" class="input-cyber h-40" placeholder="Input clinical symptoms..."></textarea>
                            <button @click="submitTriage('vet')" class="w-full py-5 bg-matrix text-black orbitron font-black text-xs tracking-[4px] rounded-2xl shadow-lg">INITIALIZE_REMOTE_DIAGNOSIS</button>
                        </div>
                        <div class="space-y-6">
                            <h4 class="orbitron text-xs font-black text-slate-500 tracking-widest uppercase">Pipeline_Services</h4>
                            <div v-for="item in ['Tele-Surgical Consult', 'Pharmaceutical Dropship', 'Genetic Mapping']" class="p-6 bg-white/5 rounded-3xl border border-white/5 flex items-center gap-6">
                                <div class="w-12 h-12 rounded-full bg-matrix/20 flex items-center justify-center text-matrix"><i class="fas fa-check"></i></div>
                                <span class="orbitron text-[11px] font-bold text-white">{{ item.toUpperCase() }}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <transition name="fade">
        <div v-if="notification" class="fixed bottom-10 right-10 z-[3000] p-6 bg-cyan-500 text-black orbitron text-[10px] font-black rounded-2xl shadow-2xl animate-bounce">
            {{ notification }}
        </div>
    </transition>

</div>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

    const firebaseConfig = {
        apiKey: "AIzaSyBC-dgumIAulCEIlKvZY8QoaA_PyXLTB4I",
        authDomain: "exnesfly.firebaseapp.com",
        projectId: "exnesfly",
        storageBucket: "exnesfly.firebasestorage.app",
        messagingSenderId: "1057610102569",
        appId: "1:1057610102569:web:3cbeecfa2a3ef703eaa938"
    };

    const fb = initializeApp(firebaseConfig);
    const auth = getAuth(fb);
    const provider = new GoogleAuthProvider();

    const { createApp } = Vue;
    createApp({
        data() {
            return {
                view: 'nexus', user: null, userRole: 'buyer', roleSelected: false,
                notification: null, showAddProduct: false,
                nav: [
                    { id: 'nexus', label: 'Nexus', icon: 'fas fa-terminal' },
                    { id: 'market', label: 'Market', icon: 'fas fa-globe' },
                    { id: 'telemed', label: 'Human', icon: 'fas fa-user-md' },
                    { id: 'vetmed', label: 'Vet_Nexus', icon: 'fas fa-dna' }
                ],
                triage: { species: 'Canine', symptoms: '' },
                products: [
                    { name: 'Industrial Microscope', price: 1200, cat: 'LAB' },
                    { name: 'Vet Pharmaceutical v9', price: 450, cat: 'MED' },
                    { name: 'Surgical Drone Kit', price: 3000, cat: 'TECH' }
                ]
            }
        },
        methods: {
            async login() { await signInWithPopup(auth, provider); },
            setRole(r) { 
                this.userRole = r; 
                this.roleSelected = true;
                this.notify(`USER_IDENTITY: ${r.toUpperCase()} VERIFIED`);
            },
            notify(msg) {
                this.notification = msg;
                setTimeout(() => this.notification = null, 3000);
            },
            submitTriage(type) {
                this.notify(`${type.toUpperCase()} TRIAGE DATA UPLOADED`);
                this.triage.symptoms = '';
            }
        },
        mounted() {
            onAuthStateChanged(auth, u => { this.user = u; });
        }
    }).mount('#app');
</script>
</body>
</html>
